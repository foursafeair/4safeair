{"version":3,"sources":["core/cartHelpers.js","config.js","core/apiCore.js","core/Menu.js","core/Layout.js","auth/index.js","user/Signin.js","core/ShowImage.js","core/Card.js","core/Footer.js","core/Home.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/fixedPrices.js","core/RadioBox.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/Search.js","Routes.js","index.js"],"names":["getTotalAmountCart","window","localStorage","getItem","JSON","parse","reduce","currentValue","nextValue","parseInt","count","API","process","getCategories","fetch","method","then","response","json","catch","err","console","log","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","stringify","list","params","query","queryString","location","pathname","withRouter","name","history","useState","search","results","searched","setData","Navbar","className","expand","Brand","href","alt","src","Toggle","Collapse","id","Form","onSubmit","e","preventDefault","undefined","error","replace","FormControl","type","placeholder","onChange","event","target","value","Button","variant","Nav","style","maxHeight","navbarScroll","Link","fontSize","color","Layout","children","isAuthenticated","Signin","email","password","loading","redirectToReferrer","values","setValues","user","handleChange","clickSubmit","signin","next","setItem","authenticate","title","description","display","autoComplete","onClick","role","to","ShowImage","item","url","_id","maxWidth","Card","quantity","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","redirect","setRedirect","setCount","addToCart","cart","push","Array","from","Set","map","p","find","addItem","productId","i","updateItem","shouldRedirect","price","showAddToCartBtn","splice","removeItem","showRemoveButton","showCartUpdateOptions","Mailto","subject","encodeURIComponent","Footer","marginRight","width","height","marginLeft","Home","productsByArrival","setproductsByArrival","setError","loadProductsByArrival","sortby","useEffect","AdminRoute","Component","component","rest","render","props","state","AdminDashboard","AddCategory","setName","success","setSuccess","token","userId","category","Authorization","createCategory","showSuccess","showError","autoFocus","required","AddProduct","categories","photo","createdProduct","redirectToProfile","formData","dimension","material","weight","powerConsumption","cadr","voltage","area","noice","pm25","filter","sensor","controllers","certification","FormData","files","set","createProduct","accept","multiple","c","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","prices","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResult","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValue","handlePrice","key","Product","setProduct","loadSingleProduct","read","listRelated","match","substring","Checkout","products","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","length","options","authorization","paypal","flow","onInstance","Cart","items","setItems","getTotalAmount","showItems","Orders","moment","locale","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","createdAt","fromNow","pIndex","padding","border","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","cursor","UpdateProduct","init","getProduct","initCategories","updateProduct","redirectUser","UpdateCategory","categoryId","getCategory","submitCategoryForm","updateCategory","Search","searchData","searchMessage","searchedProducts","Routes","path","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fbfe1eb0.chunk.js","sourcesContent":["export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\n\r\n\r\nexport const getTotalAmountCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n     let cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n     \r\n    return cart.reduce((currentValue, nextValue) => {\r\n    return parseInt(+currentValue + +nextValue.count);\r\n      }, 0);\r\n    } \r\n    }\r\n}\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"cart\");\r\n    next();\r\n  }\r\n};\r\n","export const API = process.env.REACT_APP_API_URL;\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = (sortby) => {\r\n  return fetch(`${API}/products?sortBy=${sortby}&order=desc&limit=2`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  // console.log(name, email, password);\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Cart } from \"react-bootstrap-icons\";\r\nimport {  withRouter } from \"react-router-dom\";\r\nimport { getTotalAmountCart } from \"./cartHelpers\";\r\nimport { Navbar, Nav, Form, FormControl, Button } from \"react-bootstrap\";\r\nimport { list } from \"./apiCore\";\r\n\r\nconst location = {\r\n  pathname: \"/search\"\r\n}\r\n\r\n\r\nconst Menu = ({ history,  }) => {\r\n  const [data, setData] = useState({\r\n    search: \"\",\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { search, results, searched } = data;\r\n\r\n  const searchData = () => {\r\n    console.log(search);\r\n    if (search) {\r\n      list({ search: search || undefined }).then((response) => {\r\n        if (response.error) {\r\n          console.log(response.error);\r\n        } else {\r\n          setData({ ...data, results: response, searched: true });\r\n          history.replace(location)\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Navbar className=\"navBkg\" expand=\"lg\">\r\n        <Navbar.Brand className=\"mx-auto\" href=\"/\">\r\n          <img\r\n            alt=\"logo\"\r\n            className=\"img\"\r\n            src={process.env.PUBLIC_URL + \"/assets/logo.png\"}\r\n          />\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n        <Navbar.Collapse id=\"navbarScroll\">\r\n          <Form onSubmit={searchSubmit} className=\"d-flex mx-auto\">\r\n            <FormControl\r\n              type=\"search\"\r\n              placeholder=\"Sök\"\r\n              className=\"mr-2 ml-4 rounded-pill\"\r\n              aria-label=\"Sök\"\r\n              onChange={handleChange(\"search\")}\r\n            />\r\n            <Button type=\"submit\" variant=\"success rounded-pill\">\r\n              Sök\r\n            </Button>\r\n          </Form>\r\n          <Nav\r\n            className=\"ml-auto my-2 my-lg-0\"\r\n            style={{ maxHeight: \"100px\" }}\r\n            navbarScroll\r\n          >\r\n            <Nav.Link href=\"/about\">Om Oss</Nav.Link>\r\n            <Nav.Link href=\"/safeAir\">Ren Luft</Nav.Link>\r\n            <Nav.Link href=\"/products\">Produkter</Nav.Link>\r\n           \r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        <Nav.Link href=\"/Cart\">\r\n              <Cart style={{fontSize: \"20px\"}}></Cart>\r\n             <span style={{color: \"#15953E\"}}> {getTotalAmountCart()} </span>\r\n            </Nav.Link>\r\n      </Navbar>\r\n      <div className=\"divider\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Menu);\r\n\r\n/* <nav className=\"navbar sticky-top navbar-expand-lg\">\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarTogglerDemo02\"\r\n          aria-controls=\"navbarTogglerDemo02\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"row\">\r\n          {/* <ul className=\"nav navbar-nav top\"> */\r\n/* <li className=\"navbar-brand\"> \r\n          <img\r\n            alt=\"logo\"\r\n            className=\"img\"\r\n            src={process.env.PUBLIC_URL + \"/assets/logo.png\"}\r\n          />\r\n          {/* </li> *\r\n          {/* <li> *\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n            <form className=\"form-inline\" onSubmit={searchSubmit}>\r\n              <input\r\n                className=\"form-control mr-sm-2\"\r\n                type=\"search\"\r\n                placeholder=\"Sök\"\r\n                aria-label=\"Search\"\r\n                onChange={handleChange(\"search\")}\r\n              />\r\n              <button className=\"btn btn-outline-success\">Sök</button>\r\n            </form>\r\n            <ul className=\"nav navbar-nav top\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/about\">\r\n                  Om oss\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/cleanair\">\r\n                  Ren Luft\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/products\">\r\n                  Produkter\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/cart\">\r\n                  <Cart></Cart>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          {/* </li> \r\n          {/* </ul> \r\n        </div>\r\n      </nav> */\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\";\r\n\r\nconst Layout = ({ className, children }) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"jumbotron\"></div>\r\n    <div className={className}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import { API } from \"../config\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        console.log(\"signout\", response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const signUpForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n          onChange={handleChange(\"email\")}\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          autoComplete=\"email\"\r\n          value={email}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Lösenord</label>\r\n        <input\r\n          onChange={handleChange(\"password\")}\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          autoComplete=\"new-password\"\r\n          value={password}\r\n        />\r\n      </div>\r\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-info\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Logga in\"\r\n      description=\"4SafeAir\"\r\n      className=\"container col-md-8 offset-md-2\"\r\n    >\r\n      {showLoading()}\r\n      {showError()}\r\n      {signUpForm()}\r\n      {redirectUser()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className=\"product-img\">\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className=\"mb-3\"\r\n      style={{ maxHeight: \"500px\", maxWidth: \"100%\" }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\r\nimport { Cart } from \"react-bootstrap-icons\";\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f,\r\n  run = undefined,\r\n  // changeCartSize\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  // const showViewButton = (showViewProductButton) => {\r\n  //   return (\r\n  //     showViewProductButton && (\r\n  //       <Link to={`/product/${product._id}`} className=\"mr-2\">\r\n  //         <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">\r\n  //           Visa Produkt\r\n  //         </button>\r\n  //       </Link>\r\n  //     )\r\n  //   );\r\n  // };\r\n  const addToCart = () => {\r\n    addItem(product, setRedirect(false));\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    if (product.quantity !== 0) {\r\n      return (\r\n        showAddToCartButton && (\r\n          <button\r\n            onClick={addToCart}\r\n            className=\"btn btn-outline-success rounded  mt-2\"\r\n          >\r\n            <Cart />\r\n          </button>\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className=\"badge bg-success bg-pill\">Finns i lager </span>\r\n    ) : (\r\n      <span className=\"badge bg-danger bg-pill\">Slut i lager</span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div>\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Ändra Antal</span>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          className=\"btn btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Ta bort\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card \">\r\n      <div className=\"card-header card-header-1\">{product.name}</div>\r\n      <div className=\"card-body text-center\">\r\n        <Link to={`/product/${product._id}`}>\r\n          {shouldRedirect(redirect)}\r\n          <ShowImage item={product} url=\"product\" />\r\n          <p className=\"card-p black-10\"> {product.price} kr</p>\r\n        </Link>\r\n        {showStock(product.quantity)}\r\n        <br />\r\n        {showAddToCartBtn(showAddToCartButton)}\r\n\r\n        {showRemoveButton(showRemoveProductButton)}\r\n\r\n        {showCartUpdateOptions(cartUpdate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { EnvelopeOpen } from \"react-bootstrap-icons\";\r\nimport { Instagram } from \"react-bootstrap-icons\";\r\nimport { Facebook } from \"react-bootstrap-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles.css\";\r\nconst Mailto = ({ email, subject = \"\", body = \"\", children }) => {\r\n  let params = subject || body ? \"?\" : \"\";\r\n  if (subject) params += `subject=${encodeURIComponent(subject)}`;\r\n  if (body) params += `${subject ? \"&\" : \"\"}body=${encodeURIComponent(body)}`;\r\n\r\n  return <a href={`mailto:${email}${params}`}>{children}</a>;\r\n};\r\nconst Footer = () => (\r\n  <div>\r\n    <footer className=\"footer\">\r\n      <div className=\"container-fluid text-center\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4\">\r\n            <img\r\n              className=\"img\"\r\n              alt=\"klarna\"\r\n              src={process.env.PUBLIC_URL + \"/assets/nedladdning.png\"}\r\n            ></img>\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4 mt-2\">\r\n            <Mailto email=\"per@4safeair.se\" subject=\"\" body=\"\">\r\n              <EnvelopeOpen\r\n                color=\"white\"\r\n                className=\"mr-4\"\r\n                style={{ marginRight: \"10%\", width: \"40px\", height: \"40px\" }}\r\n              ></EnvelopeOpen>\r\n            </Mailto>\r\n            <Link\r\n              to={{ pathname: \"https://www.instagram.com\" }}\r\n              target=\"_blank\"\r\n            >\r\n              <Instagram\r\n                color=\"white\"\r\n                className=\"mr-4 ml-4\"\r\n                style={{\r\n                  marginLeft: \"5%\",\r\n                  marginRight: \"5%\",\r\n                  width: \"40px\",\r\n                  height: \"40px\",\r\n                }}\r\n              ></Instagram>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: \"https://www.facebook.com/4SAFE-AIR-108122174828220\",\r\n              }}\r\n              target=\"_blank\"\r\n            >\r\n              <Facebook\r\n                color=\"white\"\r\n                className=\"ml-4\"\r\n                style={{ marginLeft: \"10%\", width: \"40px\", height: \"40px\" }}\r\n              ></Facebook>\r\n            </Link>\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4 mt-2\">\r\n            <div className=\"footer-text\">© 4SafeAir</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Footer from \"./Footer\";\r\nimport Menu from \"./Menu\";\r\nimport { Nav } from \"react-bootstrap\";\r\n\r\nconst Home = () => {\r\n  const [productsByArrival, setproductsByArrival] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts(\"updatedAt\").then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setproductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Menu></Menu>\r\n      <div className=\"mt-1\">\r\n        <img\r\n          className=\"rounded mx-auto d-block img-fluid\"\r\n          alt=\"huvudbild\"\r\n          src={process.env.PUBLIC_URL + \"/assets/huvudbild.png\"}\r\n        />\r\n      </div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Produkter som renar din luft</h2>\r\n      <div className=\"divider\"></div>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          {productsByArrival.map((product, i) => (\r\n            <div key={i} className=\"col-4 mb-3\">\r\n              <Card product={product} />\r\n            </div>\r\n          ))}\r\n         <Nav.Link className=\"text-center\" style={{color: \"black\"}} href=\"/products\">Alla Produkter</Nav.Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Varför ren luft?</h2>\r\n      <p className=\"text-center\">\r\n        Vi kan rena luften inomhusmiljön inte bara späda ut den med inkommande\r\n        syre som ventilationen ger. Luftrening mobilt finns i olika tekniska\r\n        lösningar. Den mest säkra är HEP/Kol filtrering som är en mycket\r\n        beprövad teknik som finns i alla svåra labbmiljöer, Kärnkraftverk, space\r\n        shuttles, operationssalar samt andra svåra och klassificerade miljöer.\r\n        Det finns även andra s.k nya tekniker men de bygger på en icke bevisad\r\n        effekt samt kan avge sekundära effekter som är till och med cancerogena\r\n        som skadar oss människor.\r\n      </p>\r\n      <Footer></Footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/signin\",\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header\">Admin</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/category\">\r\n              Skapa Kategori\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/product\">\r\n              Skapa Produkt\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/orders\">\r\n              Se Ordrar\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/products\">\r\n              Hantera Produkter\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">Din Information</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">{name}</li>\r\n          <li className=\"list-group-item\">{email}</li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Dashboard\"\r\n      description={`Välkommen ${name}!`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLinks()}</div>\r\n        <div className=\"col-9\">{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from \"../config\";\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      // content type?\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n  return fetch(`${API}/order/list/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n  return fetch(`${API}/order/status-values/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ status, orderId }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products?limit=undefined`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Layout from \"../core/Layout\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          autoFocus\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Skapa Kategori</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className=\"text-success\">{name} har skapats!</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className=\"text-danger\">Kategorin existerar redan!</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Tillbaka till Min Sida\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Skapa Kategori\"\r\n      description={`Hej ${user.name}! På denna sida så kan du skapa en ny kategori!`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: [],\r\n    color: \"\",\r\n    dimension: \"\",\r\n    material: \"\",\r\n    weight: \"\",\r\n    powerConsumption:\"\",\r\n    cadr: \"\",\r\n    voltage: \"\",\r\n    area: \"\",\r\n    noice: \"\",\r\n    pm25: \"\",\r\n    filter: \"\",\r\n    sensor: \"\",\r\n    controllers: \"\",\r\n    certification: \"\"\r\n\r\n\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    color,\r\n    formData,\r\n    dimension,\r\n    material,\r\n    weight,\r\n    powerConsumption,\r\n    cadr,\r\n    voltage,\r\n    area,\r\n    noice,\r\n    pm25,\r\n    filter,\r\n    sensor,\r\n    controllers,\r\n    certification\r\n\r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, [loading]);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          photo: \"\",\r\n          price: \"\",\r\n          quantity: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n          formData: new FormData(),\r\n          redirectToProfile: true,\r\n          color: \"\",\r\n          dimension: \"\",\r\n          material: \"\",\r\n          weight: \"\",\r\n          powerConsumption: \"\",\r\n          cadr: \"\",\r\n          voltage: \"\",\r\n          area: \"\",\r\n          noice: \"\",\r\n          pm25: \"\",\r\n          filter: \"\",\r\n          sensor: \"\",\r\n          controllers: \"\",\r\n          certification: \"\"\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Välj bilder</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n            multiple\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Namn</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Beskrivning</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Pris</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Kategori</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Välj kategori</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Antal</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Färg</label>\r\n        <input\r\n          onChange={handleChange(\"color\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={color}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Produktdimension</label>\r\n        <input\r\n          onChange={handleChange(\"dimension\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={dimension}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Chassimaterial</label>\r\n        <input\r\n          onChange={handleChange(\"material\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={material}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Vikt</label>\r\n        <input\r\n          onChange={handleChange(\"weight\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={weight}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Spänning</label>\r\n        <input\r\n          onChange={handleChange(\"voltage\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={voltage}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Energiförbrukning</label>\r\n        <input\r\n          onChange={handleChange(\"powerConsumption\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={powerConsumption}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">CADR</label>\r\n        <input\r\n          onChange={handleChange(\"cadr\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={cadr}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Applikationsområde</label>\r\n        <input\r\n          onChange={handleChange(\"area\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={area}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Ljud</label>\r\n        <input\r\n          onChange={handleChange(\"noice\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={noice}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">PM2.5</label>\r\n        <input\r\n          onChange={handleChange(\"pm25\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={pm25}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Tillhörande filter</label>\r\n        <input\r\n          onChange={handleChange(\"filter\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={filter}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Sensor</label>\r\n        <input\r\n          onChange={handleChange(\"sensor\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={sensor}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Driftstyrning</label>\r\n        <input\r\n          onChange={handleChange(\"controllers\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={controllers}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Certifiering</label>\r\n        <input\r\n          onChange={handleChange(\"certification\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={certification}\r\n        />\r\n      </div>\r\n\r\n\r\n\r\n      <button className=\"btn btn-outline-primary\">Skapa Produkt</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} har skapats!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new product\"\r\n      description={`Hej ${user.name}! På denna sida så skapar du en ny produkt.`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n  const [checked, setChecked] = useState([]);\r\n\r\n  const handleToggle = (c) => () => {\r\n    const currentCategoryId = checked.indexOf(c);\r\n    const newCheckedCategoryId = [...checked];\r\n    if (currentCategoryId === -1) {\r\n      newCheckedCategoryId.push(c);\r\n    } else {\r\n      newCheckedCategoryId.splice(currentCategoryId, 1);\r\n    }\r\n\r\n    setChecked(newCheckedCategoryId);\r\n    handleFilters(newCheckedCategoryId);\r\n  };\r\n\r\n  return categories.map((c, i) => (\r\n    <div key={i}>\r\n      <input\r\n        value={checked.indexOf(c._id === -1)}\r\n        onChange={handleToggle(c._id)}\r\n        type=\"checkbox\"\r\n        className=\"ms-2 me-2\"\r\n      />\r\n      <label className=\"form-check-label\">{c.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default Checkbox;\r\n","export const prices = [\r\n  {\r\n    _id: 0,\r\n    name: \"Se alla\",\r\n    array: [],\r\n  },\r\n  {\r\n    _id: 1,\r\n    name: \"0 - 995 kr\",\r\n    array: [0, 995],\r\n  },\r\n  {\r\n    _id: 2,\r\n    name: \"1000 - 1995 kr\",\r\n    array: [1000, 1995],\r\n  },\r\n  {\r\n    _id: 3,\r\n    name: \"2000 - 2995 kr\",\r\n    array: [2000, 2995],\r\n  },\r\n  {\r\n    _id: 4,\r\n    name: \"3000 - 3995 kr\",\r\n    array: [3000, 3995],\r\n  },\r\n  {\r\n    _id: 5,\r\n    name: \"Mer än 4000 kr\",\r\n    array: [4000, 5000000],\r\n  },\r\n];\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event) => {\r\n    handleFilters(event.target.value);\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return prices.map((p, i) => (\r\n    <div key={i}>\r\n      <input\r\n        value={`${p._id}`}\r\n        onChange={handleChange}\r\n        name={p}\r\n        type=\"radio\"\r\n        className=\"ms-2 me-2\"\r\n      />\r\n      <label className=\"form-check-label\"> {p.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RadioBox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getFilteredProducts, getCategories } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport { prices } from \"./fixedPrices\";\r\nimport Layout from \"./Layout\";\r\nimport RadioBox from \"./RadioBox\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n\r\n  const [filteredResults, setFilteredResult] = useState(0);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResult(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResult([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n          Visa fler produkter\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === \"price\") {\r\n      let priceValue = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValue;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Alla Produkter\"\r\n      description=\"Sök och hitta en luftrenare som passar dig\"\r\n      className=\"container-fluid\"\r\n    >\r\n      \r\n      <div className=\"row\">\r\n      <Navbar className=\"navFilter\" expand=\"lg\">\r\n       <Navbar.Toggle aria-controls=\"navbarScroll\" className=\"mx-auto\"  />\r\n        <Navbar.Collapse id=\"navbarScroll\">\r\n      <div className=\"col-2\">\r\n      \r\n          <h4>Filtrera Kategorier</h4>\r\n          <div>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, \"category\")}\r\n            />\r\n          </div>\r\n          <h4>Filtrera Priser</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, \"price\")}\r\n            />\r\n        </div>\r\n          </div>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      \r\n        <div className=\"col-8\">\r\n          <h2 className=\"mb-4\">Produkter</h2>\r\n          <div className=\"row\">\r\n            {filteredResults &&\r\n              filteredResults.map((product, i) => (\r\n                <div key={i} className=\"col-4 mb-3\">\r\n                  <Card product={product} />\r\n                </div>\r\n              ))}\r\n          </div>\r\n          <hr></hr>\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n      <Footer></Footer>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Shop;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { read, listRelated } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Layout from \"./Layout\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Product = (props) => {\r\n  const [product, setProduct] = useState({});\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadSingleProduct = (productId) => {\r\n    read(productId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProduct(data);\r\n        listRelated(data._id).then((data) => {\r\n          if (data.error) {\r\n            setError(error);\r\n          } \r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const productId = props.match.params.productId;\r\n    loadSingleProduct(productId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={product && product.name}\r\n      description={\r\n        product && product.description && product.description.substring(0, 100)\r\n      }\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          {product && product.description && (\r\n            <Card product={product} showViewProductButton={false} />\r\n          )}\r\n        </div>\r\n        {/* <div className=\"col-4\">\r\n          <h4>Tilhörande Produkter</h4>\r\n          {relatedProduct.map((p, i) => (\r\n            <div key={i} className=\"mb-3\">\r\n              <Card product={p} />\r\n            </div>\r\n          ))}\r\n        </div> */}\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Produktbeskrivning</h2>\r\n      \r\n      <p className=\"text-center\">{product.description}</p>\r\n      <div className=\"divider\"></div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Teknisk Beskrivning</h2>\r\n      \r\n      <p className=\"text-center\">Färg: {product.color}</p>\r\n      <p className=\"text-center\">Produktdimension: {product.dimension}</p>\r\n      <p className=\"text-center\">Chassimaterial: {product.material}</p>\r\n      <p className=\"text-center\">Vikt: {product.weight}</p>\r\n      <p className=\"text-center\">Spänning: {product.voltage}</p>\r\n      <p className=\"text-center\">Energiförbrukning: {product.powerConsumption}</p>\r\n      <p className=\"text-center\">CADR: {product.cadr}</p>\r\n      <p className=\"text-center\">Applikationsområde: {product.area}</p>\r\n      <p className=\"text-center\">Ljud: {product.noice}</p>\r\n      <p className=\"text-center\">PM2.5​: {product.pm25}</p>\r\n      <p className=\"text-center\">Filter: {product.filter}</p>\r\n      <p className=\"text-center\">Sensor: {product.sensor}</p>\r\n      <p className=\"text-center\">Driftstyrning: {product.controllers}</p>\r\n      <p className=\"text-center\">Certifiering: {product.certification}</p>\r\n      <Footer></Footer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  getProducts,\r\n  getBraintreeClientToken,\r\n  processPayment,\r\n  createOrder,\r\n} from \"./apiCore\";\r\nimport { emptyCart } from \"./cartHelpers\";\r\nimport Card from \"./Card\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n// import \"braintree-web\"; // not using this package\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Checkout = ({ products, setRun = (f) => f, run = undefined }) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n    address: \"\",\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getBraintreeClientToken(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n        setData({ ...data, error: data.error });\r\n      } else {\r\n        console.log(data);\r\n        setData({ clientToken: data.clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const handleAddress = (event) => {\r\n    setData({ ...data, address: event.target.value });\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return products.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price;\r\n    }, 0);\r\n  };\r\n\r\n  const showCheckout = () => {\r\n    return isAuthenticated() ? (\r\n      <div>{showDropIn()}</div>\r\n    ) : (\r\n      <Link to=\"/signin\">\r\n        <button className=\"btn btn-primary\">Sign in to checkout</button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  let deliveryAddress = data.address;\r\n\r\n  const buy = () => {\r\n    setData({ loading: true });\r\n    // send the nonce to your server\r\n    // nonce = data.instance.requestPaymentMethod()\r\n    let nonce;\r\n    let getNonce = data.instance\r\n      .requestPaymentMethod()\r\n      .then((data) => {\r\n        // console.log(data);\r\n        nonce = data.nonce;\r\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n        // and also total to be charged\r\n        // console.log(\r\n        //     \"send nonce and total to process: \",\r\n        //     nonce,\r\n        //     getTotal(products)\r\n        // );\r\n        const paymentData = {\r\n          paymentMethodNonce: nonce,\r\n          amount: getTotal(products),\r\n        };\r\n\r\n        processPayment(userId, token, paymentData)\r\n          .then((response) => {\r\n            console.log(response);\r\n            // empty cart\r\n            // create order\r\n\r\n            const createOrderData = {\r\n              products: products,\r\n              transaction_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              address: deliveryAddress,\r\n            };\r\n\r\n            createOrder(userId, token, createOrderData)\r\n              .then((response) => {\r\n                emptyCart(() => {\r\n                  setRun(!run); // run useEffect in parent Cart\r\n                  console.log(\"payment success and empty cart\");\r\n                  setData({\r\n                    loading: false,\r\n                    success: true,\r\n                  });\r\n                });\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n                setData({ loading: false });\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setData({ loading: false });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        // console.log(\"dropin error: \", error);\r\n        setData({ ...data, error: error.message });\r\n      });\r\n  };\r\n\r\n  const showDropIn = () => (\r\n    <div onBlur={() => setData({ ...data, error: \"\" })}>\r\n      {data.clientToken !== null && products.length > 0 ? (\r\n        <div>\r\n          <div className=\"gorm-group mb-3\">\r\n            <label className=\"text-muted\">Leveransaddress:</label>\r\n            <textarea\r\n              onChange={handleAddress}\r\n              className=\"form-control\"\r\n              value={data.address}\r\n            />\r\n          </div>\r\n\r\n          <DropIn\r\n            options={{\r\n              authorization: data.clientToken,\r\n              paypal: {\r\n                flow: \"vault\",\r\n              },\r\n            }}\r\n            onInstance={(instance) => (data.instance = instance)}\r\n          />\r\n          <button onClick={buy} className=\"btn btn-success btn-block\">\r\n            Köp\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  const showError = (error) => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = (success) => (\r\n    <div\r\n      className=\"alert alert-success\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      Tack! Ditt köp blev genomfört!\r\n    </div>\r\n  );\r\n\r\n  const showLoading = (loading) =>\r\n    loading && <h2 className=\"text-danger\">Laddar...</h2>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Totalt: {getTotal()} Kr</h2>\r\n      {showLoading(data.loading)}\r\n      {showSuccess(data.success)}\r\n      {showError(data.error)}\r\n      {showCheckout()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Layout from \"./Layout\";\r\nimport { getCart } from \"./cartHelpers\";\r\nimport Checkout from \"./Checkout\";\r\nimport Card from \"./Card\";\r\n\r\nconst Cart = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const [run, setRun] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setItems(getCart());\r\n  }, [run]);\r\n \r\n  const getTotalAmount = () => {\r\n    return items.reduce((currentValue, nextValue) => {\r\n      return parseInt(currentValue + +nextValue.count);\r\n    }, 0);\r\n  };\r\n\r\n  const showItems = (items) => {\r\n    return (\r\n      <div>\r\n        <h2>Din kundvagn har totalt {`${getTotalAmount()}`} produkter</h2>\r\n        <hr />\r\n        {items.map((product, i) => (\r\n          <Card\r\n            key={i}\r\n            product={product}\r\n            showAddToCartButton={false}\r\n            cartUpdate={true}\r\n            showRemoveProductButton={true}\r\n            setRun={setRun}\r\n            run={run}\r\n          />\r\n          ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noItemsMessage = () => (\r\n    <h2>\r\n      Din kundvagn är tom! <br /> <Link to=\"/products\">Fortsätt handla</Link>\r\n    </h2>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Shopping Cart\"\r\n      description=\"Hantera kundvagn eller fortsätt att shoppa!\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n\r\n        </div>\r\n       {/* <div className=\"col-6\"> */}\r\n          <h2 className=\"mb-4\">Summering av Kundvagn</h2>\r\n          <hr />\r\n          <Checkout products={items} setRun={setRun} run={run} />\r\n        </div> \r\n      {/* </div> */}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\nconst Orders = () => {\r\n  moment.locale(\"se\");\r\n  const [orders, setOrders] = useState([]);\r\n  const [statusValues, setStatusValues] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOrders = () => {\r\n    listOrders(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setOrders(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadStatusValues = () => {\r\n    getStatusValues(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setStatusValues(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n    loadStatusValues();\r\n  }, []);\r\n\r\n  const showOrdersLength = () => {\r\n    if (orders.length > 0) {\r\n      return (\r\n        <h1 className=\"text-danger display-2\">\r\n          Totalt antal ordrar: {orders.length}\r\n        </h1>\r\n      );\r\n    } else {\r\n      return <h1 className=\"text-danger\">Inga ordrar</h1>;\r\n    }\r\n  };\r\n\r\n  const showInput = (key, value) => (\r\n    <div className=\"input-group mb-2 mr-sm-2\">\r\n      <div className=\"input-group-prepend\">\r\n        <div className=\"input-group-text\">{key}</div>\r\n      </div>\r\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n    </div>\r\n  );\r\n\r\n  const handleStatusChange = (e, orderId) => {\r\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\r\n      if (data.error) {\r\n        console.log(\"Status update failed\");\r\n      } else {\r\n        loadOrders();\r\n      }\r\n    });\r\n  };\r\n\r\n  const showStatus = (o) => (\r\n    <div className=\"form-group\">\r\n      <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n      <select\r\n        className=\"form-control\"\r\n        onChange={(e) => handleStatusChange(e, o._id)}\r\n      >\r\n        <option>Uppdatera Status</option>\r\n        {statusValues.map((status, index) => (\r\n          <option key={index} value={status}>\r\n            {status}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Orders\"\r\n      description={`Hantera ordrar`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showOrdersLength()}\r\n\r\n          {orders.map((o, oIndex) => {\r\n            return (\r\n              <div\r\n                className=\"mt-5\"\r\n                key={oIndex}\r\n                style={{ borderBottom: \"5px solid indigo\" }}\r\n              >\r\n                <h2 className=\"mb-5\">\r\n                  <span className=\"bg-primary\">Order ID: {o._id}</span>\r\n                </h2>\r\n\r\n                <ul className=\"list-group mb-2\">\r\n                  <li className=\"list-group-item\">{showStatus(o)}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Transaktions ID: {o.transaction_id}\r\n                  </li>\r\n                  <li className=\"list-group-item\">Antal: ${o.amount}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Beställd av: {o.user.name}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Beställningsdatum on: {moment(o.createdAt).fromNow()}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Leveransaddress: {o.address}\r\n                  </li>\r\n                </ul>\r\n\r\n                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                  Totalt antal produkter: {o.products.length}\r\n                </h3>\r\n\r\n                {o.products.map((p, pIndex) => (\r\n                  <div\r\n                    className=\"mb-4\"\r\n                    key={pIndex}\r\n                    style={{\r\n                      padding: \"20px\",\r\n                      border: \"1px solid indigo\",\r\n                    }}\r\n                  >\r\n                    {showInput(\"Product name\", p.name)}\r\n                    {showInput(\"Product price\", p.price)}\r\n                    {showInput(\"Product total\", p.count)}\r\n                    {showInput(\"Product Id\", p._id)}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\nimport { Trash } from \"react-bootstrap-icons\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const destroy = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        loadProducts();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Manage Products\"\r\n      description=\"Perform CRUD on products\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center\">Totalt {products.length} produkter</h2>\r\n          <hr />\r\n          <ul className=\"list-group\">\r\n            {products.map((p, i) => (\r\n              <li\r\n                key={i}\r\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n              >\r\n                <strong>{p.name}</strong>\r\n                <Link to={`/admin/product/update/${p._id}`}>\r\n                  <span className=\"badge bg-warning bg-pill\">Uppdatera</span>\r\n                </Link>\r\n                <Trash\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => destroy(p._id)}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <br />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    color: \"\",\r\n    dimension: \"\",\r\n    material: \"\",\r\n    weight: \"\",\r\n    voltage:\"\",\r\n    powerConsumption:\"\",\r\n    cadr:\"\",\r\n    area:\"\",\r\n    noice:\"\",\r\n    pm25:\"\",\r\n    filter:\"\",\r\n    sensor:\"\",\r\n    controllers:\"\",\r\n    certification:\"\",\r\n    loading: false,\r\n    error: false,\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n    color,\r\n    dimension,\r\n    material,\r\n    weight,\r\n    voltage,\r\n    powerConsumption,\r\n    cadr,\r\n    area,\r\n    noice,\r\n    pm25,\r\n    filter,\r\n    sensor,\r\n    controllers,\r\n    certification\r\n  } = values;\r\n\r\n  const init = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          quantity: data.quantity,\r\n          color: data.color,\r\n          dimension: data.dimension,\r\n          material: data.material,\r\n          weight: data.weight,\r\n          voltage: data.voltage,\r\n          powerConsumption: data.powerConsumption,\r\n          cadr: data.cadr,\r\n          area: data.area,\r\n          noice: data.noice,\r\n          pm25: data.pm25,\r\n          filter: data.filter,\r\n          sensor: data.sensor,\r\n          controllers: data.controllers,\r\n          certification: data.certification,\r\n          formData: new FormData(),\r\n        });\r\n        // load categories\r\n        initCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  // load categories and set form data\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            photo: \"\",\r\n            price: \"\",\r\n            quantity: \"\",\r\n            loading: false,\r\n            error: false,\r\n            redirectToProfile: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Lägg till bild</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Beskrivning</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Pris</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Kategori</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Vänligen välj en Kategori</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n    \r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Antal</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Färg</label>\r\n        <input\r\n          onChange={handleChange(\"color\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={color}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Produktdimension</label>\r\n        <input\r\n          onChange={handleChange(\"dimension\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={dimension}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Chassimaterial</label>\r\n        <input\r\n          onChange={handleChange(\"material\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={material}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Vikt</label>\r\n        <input\r\n          onChange={handleChange(\"weight\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={weight}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Spänning</label>\r\n        <input\r\n          onChange={handleChange(\"voltage\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={voltage}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Energiförbrukning</label>\r\n        <input\r\n          onChange={handleChange(\"powerConsumption\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={powerConsumption}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">CADR</label>\r\n        <input\r\n          onChange={handleChange(\"cadr\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={cadr}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Applikationsområde</label>\r\n        <input\r\n          onChange={handleChange(\"area\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={area}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Ljud</label>\r\n        <input\r\n          onChange={handleChange(\"noice\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={noice}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">PM2.5</label>\r\n        <input\r\n          onChange={handleChange(\"pm25\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={pm25}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Tillhörande filter</label>\r\n        <input\r\n          onChange={handleChange(\"filter\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={filter}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Sensor</label>\r\n        <input\r\n          onChange={handleChange(\"sensor\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={sensor}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Driftstyrning</label>\r\n        <input\r\n          onChange={handleChange(\"controllers\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={controllers}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Certifiering</label>\r\n        <input\r\n          onChange={handleChange(\"certification\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={certification}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Uppdatera Produkt</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} är uppdaterad!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout title=\"Uppdatera Produkt\" description={`Uppdatera Produkt`}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getCategory, updateCategory } from \"./apiAdmin\";\r\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\r\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\r\nconst UpdateCategory = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    error: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  // destructure user and token from localStorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const { name, error, redirectToProfile } = values;\r\n\r\n  const init = (categoryId) => {\r\n    getCategory(categoryId, token).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.categoryId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const submitCategoryForm = (e) => {\r\n    e.preventDefault();\r\n    // update with ? you should send category name otherwise what to update?\r\n    const category = {\r\n      name: name,\r\n    };\r\n    updateCategory(match.params.categoryId, user._id, token, category).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: data.name,\r\n            error: false,\r\n            redirectToProfile: true,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const updateCategoryForm = () => (\r\n    <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\r\n      <form className=\"mb-5\" onSubmit={submitCategoryForm}>\r\n        <span className=\"login100-form-title p-b-32 m-b-7\">\r\n          Formulär för att uppdatera kategorier\r\n        </span>\r\n        <span className=\"txt1 p-b-11\">Kategori</span>\r\n        <br />\r\n        <br />\r\n        <div className=\"wrap-input100 validate-input m-b-36\">\r\n          <input\r\n            onChange={handleChange(\"name\")}\r\n            value={name}\r\n            className=\"input100\"\r\n            type=\"text\"\r\n            required\r\n            name=\"name\"\r\n          />\r\n        </div>\r\n        <div className=\"w-size25\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\"\r\n          >\r\n            Spara Ändringar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className={\"alert alert-danger\"}\r\n      role=\"alert\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        className=\"close\"\r\n        data-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to=\"/admin/categories\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  const goBackBTN = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link to=\"/admin/categories\" className=\"text-info\">\r\n          Tillbaka till admin\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title={`Hi ${user.name}`}\r\n      description={`This is Update Product Action Page`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\r\n          {showError()}\r\n          {updateCategoryForm()}\r\n          {goBackBTN()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { list } from \"./apiCore\";\r\nimport { getCategories } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = (props) => {\r\n  const [data, setData] = useState({\r\n    search: \"\",\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n      getCategories((data) => {\r\n        if (data.error) {\r\n          console.log(data.error);\r\n        } else {\r\n          setData({ ...data, categories: data });\r\n        }\r\n      });\r\n    };\r\n    useEffect(() => {\r\n        searchData();\r\n    }, []);\r\n\r\n  const searchData = () => {\r\n    console.log(search);\r\n    if (search) {\r\n      list({ search: search || undefined }).then((response) => {\r\n        if (response.error) {\r\n          console.log(response.error);\r\n        } else {\r\n          setData({ ...data, results: response, searched: true });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n//   const searchSubmit = (e) => {\r\n//     e.preventDefault();\r\n//     searchData();\r\n//   };\r\n//   const handleChange = (name) => (event) => {\r\n//     setData({ ...data, [name]: event.target.value, searched: false });\r\n//   };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 1) {\r\n      return `Hittade ${results.length} produkter`;\r\n    }\r\n    if (searched && results.length === 1) {\r\n      return `Hittade ${results.length} produkt`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `Hittade inga produkter`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div>\r\n        <h2 className=\"mt-4 mb-4\"> {searchMessage(searched, results)}</h2>\r\n        <div className=\"row\">\r\n          {results.map((product, i) => (\r\n            <Card key={i} product={product} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n//   const searchForm = () => (\r\n//     <form onSubmit={searchSubmit}>\r\n//       <span className=\"input-group-text\">\r\n//         <div className=\"input-group input-group-lg\">\r\n//           {/* <div className=\"input-group-prepend\">\r\n//             <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\r\n//               <option value=\"All\"> Välj en kategori</option>\r\n//               {categories.map((c, i) => (\r\n//                 <option key={i} value={c._id}>\r\n//                   {c.name}\r\n//                 </option>\r\n//               ))}\r\n//             </select>\r\n//           </div> */}\r\n//           <input\r\n//             type=\"search\"\r\n//             className=\"form-control\"\r\n//             placeholder=\"Sök efter produkter eller kategorier\"\r\n//             onChange={handleChange(\"search\")}\r\n//           />\r\n//         </div>\r\n//         <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\r\n//           <button className=\"input-group-text\">Sök</button>\r\n//         </div>\r\n//       </span>\r\n//     </form>\r\n//   );\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Signin from \"./user/Signin\";\r\nimport Home from \"./core/Home\";\r\nimport AdminRoute from \"./auth/AdminRoute\";\r\nimport AdminDashboard from \"./user/AdminDashboard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport Shop from \"./core/Shop\";\r\nimport Product from \"./core/Product\";\r\nimport Cart from \"./core/Cart\";\r\nimport Orders from \"./admin/Orders\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Search from \"./core/Search\"\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/products\" exact component={Shop} />\r\n        <Route path=\"/admin/signin\" exact component={Signin} />\r\n        {/* <Route path=\"/signup\" exact component={Signup} /> */}\r\n        <Route path=\"/product/:productId\" exact component={Product} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n        <AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n        {/* <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n        <PrivateRoute path=\"/profile/:userId\" exact component={Profile} /> */}\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <Route path=\"/search\" exact component={Search} />\r\n\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n        <Route path=\"/\" exact component={Home} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}