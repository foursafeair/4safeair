{"version":3,"sources":["core/Layout.js","config.js","auth/index.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/cartHelpers.js","core/Card.js","core/Footer.js","core/Home.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/fixedPrices.js","core/RadioBox.js","core/Shop.js","core/About.js","core/ClearAir.js","core/Product.js","core/NotFound.js","core/Cart.js","admin/Orders.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/Search.js","Routes.js","index.js"],"names":["Layout","className","children","API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","Signin","useState","email","password","error","loading","redirectToReferrer","values","setValues","user","handleChange","name","event","target","value","clickSubmit","preventDefault","fetch","method","headers","Accept","body","stringify","then","response","json","catch","err","console","log","signin","data","next","setItem","authenticate","title","description","style","display","onChange","type","autoComplete","onClick","role","to","getFilteredProducts","skip","limit","filters","list","params","query","queryString","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","addItem","f","cart","push","count","Array","from","Set","map","p","id","find","updateItem","productId","product","i","getTotalAmountCart","reduce","currentValue","nextValue","parseInt","Card","quantity","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","run","undefined","redirect","setRedirect","setCount","shouldRedirect","price","forEach","showAddToCartBtn","splice","removeItem","showRemoveButton","showCartUpdateOptions","Mailto","subject","encodeURIComponent","href","Footer","color","marginRight","width","height","pathname","marginLeft","Home","productsByArrival","setproductsByArrival","setError","loadProductsByArrival","sortby","useEffect","Nav","Link","AdminRoute","Component","component","rest","render","props","state","location","AdminDashboard","getCategories","AddCategory","setName","success","setSuccess","token","e","userId","category","Authorization","createCategory","showSuccess","showError","onSubmit","autoFocus","required","AddProduct","categories","photo","createdProduct","redirectToProfile","formData","dimension","material","weight","powerConsumption","cadr","voltage","area","noice","pm25","filter","sensor","controllers","certification","FormData","files","set","createProduct","accept","multiple","c","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","prices","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResult","init","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValue","handlePrice","key","Navbar","expand","Toggle","Collapse","About","CleanAir","Product","setProduct","setFilter","loadSingleProduct","read","match","substring","NotFound","Cart","items","setItems","getTotalAmount","length","showItems","Orders","moment","locale","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","transaction_id","amount","createdAt","fromNow","address","products","pIndex","padding","border","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","cursor","UpdateProduct","getProduct","initCategories","updateProduct","redirectUser","UpdateCategory","categoryId","getCategory","submitCategoryForm","updateCategory","SearchResultsPage","isLoading","searchText","searchResults","handleSearch","results","includes","setState","this","prevProps","toRender","margin","React","Routes","search","searched","setData","searchMessage","Brand","Form","FormControl","placeholder","Button","variant","navbarScroll","fontSize","searchedProducts","path","exact","CartComp","Search","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.364f9c5b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\";\r\n\r\nconst Layout = ({ className, children }) => (\r\n  <div>\r\n    {/* <Menu /> */}\r\n    <div className=\"jumbotron\"></div>\r\n    <div className={className}>{children}</div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","export const API = process.env.REACT_APP_API_URL;\r\n","import { API } from \"../config\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => {\r\n        console.log(\"signout\", response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const signUpForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n          onChange={handleChange(\"email\")}\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          autoComplete=\"email\"\r\n          value={email}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Lösenord</label>\r\n        <input\r\n          onChange={handleChange(\"password\")}\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          autoComplete=\"new-password\"\r\n          value={password}\r\n        />\r\n      </div>\r\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-info\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Logga in\"\r\n      description=\"4SafeAir\"\r\n      className=\"container col-md-8 offset-md-2\"\r\n    >\r\n      {showLoading()}\r\n      {showError()}\r\n      {signUpForm()}\r\n      {redirectUser()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = (sortby) => {\r\n  return fetch(`${API}/products?sortBy=${sortby}&order=desc&limit=3`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  // console.log(name, email, password);\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className=\"product-img\">\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className=\"mb-3\"\r\n      style={{ maxHeight: \"500px\", maxWidth: \"100%\" }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const getTotalAmountCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      let cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n\r\n      return cart.reduce((currentValue, nextValue) => {\r\n        return parseInt(+currentValue + +nextValue.count);\r\n      }, 0);\r\n    }\r\n  }\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"cart\");\r\n    next();\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\r\nimport { Cart } from \"react-bootstrap-icons\";\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f,\r\n  run = undefined,\r\n  // changeCartSize\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  // const showViewButton = (showViewProductButton) => {\r\n  //   return (\r\n  //     showViewProductButton && (\r\n  //       <Link to={`/product/${product._id}`} className=\"mr-2\">\r\n  //         <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">\r\n  //           Visa Produkt\r\n  //         </button>\r\n  //       </Link>\r\n  //     )\r\n  //   );\r\n  // };\r\n  const addToCart = (productId) => (event) => {\r\n    let cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    if (typeof window !== \"undefined\") {\r\n      cart.forEach((data) => {\r\n        if (data._id === productId) {\r\n          setRun(!run);\r\n          updateItem(productId, data.count + 1);\r\n        } else {\r\n          addItem(product, setRedirect(false));\r\n        }\r\n      });\r\n    } else {\r\n      addItem(product, setRedirect(true));\r\n    }\r\n  };\r\n\r\n  const shouldRedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    if (product.quantity !== 0) {\r\n      return (\r\n        showAddToCartButton && (\r\n          <button\r\n            onClick={addToCart(product._id)}\r\n            className=\"btn btn-outline-success rounded  mt-2\"\r\n          >\r\n            <Cart />\r\n          </button>\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className=\"badge bg-success bg-pill\">Finns i lager </span>\r\n    ) : (\r\n      <span className=\"badge bg-danger bg-pill\">Slut i lager</span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div>\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Ändra Antal</span>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          className=\"btn btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Ta bort\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card \">\r\n      <div className=\"card-header card-header-1\">{product.name}</div>\r\n      <div className=\"card-body text-center\">\r\n        <Link to={`/product/${product._id}`}>\r\n          {shouldRedirect(redirect)}\r\n          <ShowImage item={product} url=\"product\" />\r\n          <p className=\"card-p black-10\"> {product.price} kr</p>\r\n        </Link>\r\n        {showStock(product.quantity)}\r\n        <br />\r\n        {showAddToCartBtn(showAddToCartButton)}\r\n\r\n        {showRemoveButton(showRemoveProductButton)}\r\n\r\n        {showCartUpdateOptions(cartUpdate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { EnvelopeOpen } from \"react-bootstrap-icons\";\r\nimport { Instagram } from \"react-bootstrap-icons\";\r\nimport { Facebook } from \"react-bootstrap-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../styles.css\";\r\nconst Mailto = ({ email, subject = \"\", body = \"\", children }) => {\r\n  let params = subject || body ? \"?\" : \"\";\r\n  if (subject) params += `subject=${encodeURIComponent(subject)}`;\r\n  if (body) params += `${subject ? \"&\" : \"\"}body=${encodeURIComponent(body)}`;\r\n\r\n  return <a href={`mailto:${email}${params}`}>{children}</a>;\r\n};\r\nconst Footer = () => (\r\n  <div>\r\n    <footer className=\"footer\">\r\n      <div className=\"container-fluid text-center\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4\">\r\n            <img\r\n              className=\"img\"\r\n              alt=\"klarna\"\r\n              src={process.env.PUBLIC_URL + \"/assets/nedladdning.png\"}\r\n            ></img>\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4 mt-2\">\r\n            <Mailto email=\"per@4safeair.se\" subject=\"\" body=\"\">\r\n              <EnvelopeOpen\r\n                color=\"white\"\r\n                className=\"mr-4\"\r\n                style={{ marginRight: \"10%\", width: \"40px\", height: \"40px\" }}\r\n              ></EnvelopeOpen>\r\n            </Mailto>\r\n            <Link\r\n              to={{ pathname: \"https://www.instagram.com\" }}\r\n              target=\"_blank\"\r\n            >\r\n              <Instagram\r\n                color=\"white\"\r\n                className=\"mr-4 ml-4\"\r\n                style={{\r\n                  marginLeft: \"5%\",\r\n                  marginRight: \"5%\",\r\n                  width: \"40px\",\r\n                  height: \"40px\",\r\n                }}\r\n              ></Instagram>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: \"https://www.facebook.com/4SAFE-AIR-108122174828220\",\r\n              }}\r\n              target=\"_blank\"\r\n            >\r\n              <Facebook\r\n                color=\"white\"\r\n                className=\"ml-4\"\r\n                style={{ marginLeft: \"10%\", width: \"40px\", height: \"40px\" }}\r\n              ></Facebook>\r\n            </Link>\r\n          </div>\r\n          <div className=\"col-sm-12 col-md-4 col-lg-4 mt-2\">\r\n            <div className=\"footer-text\">© 4SafeAir</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Footer from \"./Footer\";\r\nimport Menu from \"./Menu\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [productsByArrival, setproductsByArrival] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts(\"updatedAt\").then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setproductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {/* <Menu></Menu> */}\r\n      <div className=\"mt-1\">\r\n        <img\r\n          className=\"rounded mx-auto d-block img-fluid\"\r\n          alt=\"huvudbild\"\r\n          src={process.env.PUBLIC_URL + \"/assets/huvudbild.png\"}\r\n        />\r\n      </div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Produkter som renar din luft</h2>\r\n      <div className=\"divider\"></div>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          {productsByArrival.map((product, i) => (\r\n            <div key={i} className=\"col-4 mb-3\">\r\n              <Card product={product} />\r\n            </div>\r\n          ))}\r\n          <Nav.Link\r\n            className=\"text-center\"\r\n            style={{ color: \"black\" }}\r\n            href=\"/products\"\r\n          >\r\n            Alla Produkter\r\n          </Nav.Link>\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Varför ren luft?</h2>\r\n      <p className=\"text-center\">\r\n        Vi kan rena luften inomhusmiljön inte bara späda ut den med inkommande\r\n        syre som ventilationen ger. Luftrening mobilt finns i olika tekniska\r\n        lösningar. Den mest säkra är HEP/Kol filtrering som är en mycket\r\n        beprövad teknik som finns i alla svåra labbmiljöer, Kärnkraftverk, space\r\n        shuttles, operationssalar samt andra svåra och klassificerade miljöer.\r\n        Det finns även andra s.k nya tekniker men de bygger på en icke bevisad\r\n        effekt samt kan avge sekundära effekter som är till och med cancerogena\r\n        som skadar oss människor.\r\n        <br />\r\n        <Link to={\"/cleanAir\"}> Läs mer här </Link>\r\n      </p>\r\n      <Footer></Footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: \"/signin\",\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header\">Admin</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/category\">\r\n              Skapa Kategori\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/product\">\r\n              Skapa Produkt\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/orders\">\r\n              Se Ordrar\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/products\">\r\n              Hantera Produkter\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">Din Information</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">{name}</li>\r\n          <li className=\"list-group-item\">{email}</li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Dashboard\"\r\n      description={`Välkommen ${name}!`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLinks()}</div>\r\n        <div className=\"col-9\">{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from \"../config\";\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      // content type?\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n  return fetch(`${API}/order/list/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n  return fetch(`${API}/order/status-values/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ status, orderId }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products?limit=undefined`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Layout from \"../core/Layout\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          autoFocus\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Skapa Kategori</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className=\"text-success\">{name} har skapats!</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className=\"text-danger\">Kategorin existerar redan!</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Tillbaka till Min Sida\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Skapa Kategori\"\r\n      description={`Hej ${user.name}! På denna sida så kan du skapa en ny kategori!`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: [],\r\n    color: \"\",\r\n    dimension: \"\",\r\n    material: \"\",\r\n    weight: \"\",\r\n    powerConsumption:\"\",\r\n    cadr: \"\",\r\n    voltage: \"\",\r\n    area: \"\",\r\n    noice: \"\",\r\n    pm25: \"\",\r\n    filter: \"\",\r\n    sensor: \"\",\r\n    controllers: \"\",\r\n    certification: \"\"\r\n\r\n\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    color,\r\n    formData,\r\n    dimension,\r\n    material,\r\n    weight,\r\n    powerConsumption,\r\n    cadr,\r\n    voltage,\r\n    area,\r\n    noice,\r\n    pm25,\r\n    filter,\r\n    sensor,\r\n    controllers,\r\n    certification\r\n\r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, [loading]);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          photo: \"\",\r\n          price: \"\",\r\n          quantity: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n          formData: new FormData(),\r\n          redirectToProfile: true,\r\n          color: \"\",\r\n          dimension: \"\",\r\n          material: \"\",\r\n          weight: \"\",\r\n          powerConsumption: \"\",\r\n          cadr: \"\",\r\n          voltage: \"\",\r\n          area: \"\",\r\n          noice: \"\",\r\n          pm25: \"\",\r\n          filter: \"\",\r\n          sensor: \"\",\r\n          controllers: \"\",\r\n          certification: \"\"\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Välj bilder</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n            multiple\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Namn</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Beskrivning</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Pris</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Kategori</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Välj kategori</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Antal</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Färg</label>\r\n        <input\r\n          onChange={handleChange(\"color\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={color}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Produktdimension</label>\r\n        <input\r\n          onChange={handleChange(\"dimension\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={dimension}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Chassimaterial</label>\r\n        <input\r\n          onChange={handleChange(\"material\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={material}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Vikt</label>\r\n        <input\r\n          onChange={handleChange(\"weight\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={weight}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Spänning</label>\r\n        <input\r\n          onChange={handleChange(\"voltage\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={voltage}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Energiförbrukning</label>\r\n        <input\r\n          onChange={handleChange(\"powerConsumption\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={powerConsumption}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">CADR</label>\r\n        <input\r\n          onChange={handleChange(\"cadr\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={cadr}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Applikationsområde</label>\r\n        <input\r\n          onChange={handleChange(\"area\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={area}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Ljud</label>\r\n        <input\r\n          onChange={handleChange(\"noice\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={noice}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">PM2.5</label>\r\n        <input\r\n          onChange={handleChange(\"pm25\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={pm25}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Tillhörande filter</label>\r\n        <input\r\n          onChange={handleChange(\"filter\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={filter}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Sensor</label>\r\n        <input\r\n          onChange={handleChange(\"sensor\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={sensor}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Driftstyrning</label>\r\n        <input\r\n          onChange={handleChange(\"controllers\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={controllers}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Certifiering</label>\r\n        <input\r\n          onChange={handleChange(\"certification\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={certification}\r\n        />\r\n      </div>\r\n\r\n\r\n\r\n      <button className=\"btn btn-outline-primary\">Skapa Produkt</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} har skapats!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new product\"\r\n      description={`Hej ${user.name}! På denna sida så skapar du en ny produkt.`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n  const [checked, setChecked] = useState([]);\r\n\r\n  const handleToggle = (c) => () => {\r\n    const currentCategoryId = checked.indexOf(c);\r\n    const newCheckedCategoryId = [...checked];\r\n    if (currentCategoryId === -1) {\r\n      newCheckedCategoryId.push(c);\r\n    } else {\r\n      newCheckedCategoryId.splice(currentCategoryId, 1);\r\n    }\r\n\r\n    setChecked(newCheckedCategoryId);\r\n    handleFilters(newCheckedCategoryId);\r\n  };\r\n\r\n  return categories.map((c, i) => (\r\n    <div key={i}>\r\n      <input\r\n        value={checked.indexOf(c._id === -1)}\r\n        onChange={handleToggle(c._id)}\r\n        type=\"checkbox\"\r\n        className=\"ms-2 me-2\"\r\n      />\r\n      <label className=\"form-check-label\">{c.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default Checkbox;\r\n","export const prices = [\r\n  {\r\n    _id: 0,\r\n    name: \"Se alla\",\r\n    array: [],\r\n  },\r\n  {\r\n    _id: 1,\r\n    name: \"0 - 995 kr\",\r\n    array: [0, 995],\r\n  },\r\n  {\r\n    _id: 2,\r\n    name: \"1000 - 1995 kr\",\r\n    array: [1000, 1995],\r\n  },\r\n  {\r\n    _id: 3,\r\n    name: \"2000 - 2995 kr\",\r\n    array: [2000, 2995],\r\n  },\r\n  {\r\n    _id: 4,\r\n    name: \"3000 - 3995 kr\",\r\n    array: [3000, 3995],\r\n  },\r\n  {\r\n    _id: 5,\r\n    name: \"Mer än 4000 kr\",\r\n    array: [4000, 5000000],\r\n  },\r\n];\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event) => {\r\n    handleFilters(event.target.value);\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return prices.map((p, i) => (\r\n    <div key={i}>\r\n      <input\r\n        value={`${p._id}`}\r\n        onChange={handleChange}\r\n        name={p}\r\n        type=\"radio\"\r\n        className=\"ms-2 me-2\"\r\n      />\r\n      <label className=\"form-check-label\"> {p.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RadioBox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getFilteredProducts, getCategories } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport { prices } from \"./fixedPrices\";\r\nimport Layout from \"./Layout\";\r\nimport RadioBox from \"./RadioBox\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n\r\n  const [filteredResults, setFilteredResult] = useState(0);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResult(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResult([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n          Visa fler produkter\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === \"price\") {\r\n      let priceValue = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValue;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Alla Produkter\"\r\n      description=\"Sök och hitta en luftrenare som passar dig\"\r\n      className=\"container-fluid\"\r\n    >\r\n      \r\n      <div className=\"row\">\r\n      <Navbar className=\"navFilter\" expand=\"lg\">\r\n       <Navbar.Toggle aria-controls=\"navbarScroll\" className=\"mx-auto\"  />\r\n        <Navbar.Collapse id=\"navbarScroll\">\r\n      <div className=\"col-2\">\r\n      \r\n          <h4>Filtrera Kategorier</h4>\r\n          <div>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, \"category\")}\r\n            />\r\n          </div>\r\n          <h4>Filtrera Priser</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, \"price\")}\r\n            />\r\n        </div>\r\n          </div>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      \r\n        <div className=\"col-8\">\r\n          <h2 className=\"mb-4\">Produkter</h2>\r\n          <div className=\"row\">\r\n            {filteredResults &&\r\n              filteredResults.map((product, i) => (\r\n                <div key={i} className=\"col-4 mb-3\">\r\n                  <Card product={product} />\r\n                </div>\r\n              ))}\r\n          </div>\r\n          <hr></hr>\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n      <Footer></Footer>\r\n    </Layout>\r\n  );\r\n};\r\nexport default Shop;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"./Footer\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      {/* <Menu /> */}\r\n      <h2 className=\"mt-4 mb-4 text-center\">Om Oss</h2>\r\n      <p className=\"text-center\">\r\n        Företaget har lång erfarenhet inom Luftrening.\r\n        <br /> Genom mångårig utveckling av Luftreningsprodukter inom andra\r\n        företag har man nu samlat kompetens inom filtrering och mobil luftrening\r\n        i företaget 4Safe Air.\r\n        <br />\r\n        Företaget är specialister inom Luftrening och riktar sig främst till\r\n        konsumenter samt professionella användare. 4Safe Air har egna produkter\r\n        såväl som andra tillverkares luftreningsprodukter.\r\n        <br /> Man utvecklar just nu en produktskala som skall täcka allt från\r\n        den minsta luftrenare upp till exklusiva större enheter.\r\n        <br /> <br /> Systerföretaget Lab360 arbetar gentemot företag med samma\r\n        produktskala.\r\n        <br />\r\n        Läs mer på:\r\n        <Link to={\"https://lab360.se/\"}> www.lab360.se </Link>\r\n        <br /> <br />\r\n        Klicka gärna på mejl-ikonen under för vidare frågor.\r\n      </p>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\nexport default About;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Footer from \"./Footer\";\r\nimport Menu from \"./Menu\";\r\nimport \"../styles.css\";\r\n\r\nconst CleanAir = () => {\r\n  return (\r\n    <div>\r\n      {/* <Menu /> */}\r\n      <h2 className=\"mt-4 mb-4 text-center\">Ren Luft</h2>\r\n      <p className=\"text-center\">\r\n        Vi människor vistas 90% inomhus och luften inomhus är oftast mer komplex\r\n        och det är 50 gånger farligare att träffas av en luftförorening inomhus\r\n        än utomhus, WHO 2019 ..et al. vilket säger sig självt med alla\r\n        kemikalier och ämnen som finns runt oss inne. <br /> Ljus, spisar,\r\n        flamskyddsmedel, mögelmedel , radon etc gör inomhusmiljön komplex och\r\n        ibland skadlig. Vi tillför frisk luft och till viss del renad utifrån\r\n        som skall späda ut gaser samt ämnen inomhus men vi får då oftast in fler\r\n        partiklar från uteluften in i våra hem. <br /> <br /> Ventilation med\r\n        filter renar oftast ca 60% av partiklar utifrån. Operationssalar,\r\n        kärnkraftverk etc skyddas genom filtrering då oftast av HEPA filter som\r\n        betyder att filtret tar virus eller bakterier i ett filtermedia som är\r\n        finmaskat. Klassade filter gör man enligt en standard som heter EN 1822.\r\n        <br />\r\n        <br />\r\n        <div className=\"container-flud\">\r\n          <img\r\n            className=\"img-landscape img-fluid\"\r\n            alt=\"landscape\"\r\n            src={process.env.PUBLIC_URL + \"/assets/landscape.jpg\"}\r\n          />\r\n        </div>\r\n        <br />\r\n        <br />\r\n        Lika som att man sätter på sig ett säkerhetsbälte i bilen kan man med\r\n        säkerhet omge sig med ren luft om man använder en Luftrenare i hemmet.\r\n        <br /> Ren luft ger oss människor bättre syreupptagningsförmåga, lägre\r\n        blodtryck, mindre effekter av allergier och säkrar upp så att vi inte\r\n        inandas ämnen och partiklar som är skadliga. <br /> <br /> Kan vi ge oss\r\n        förmånen att andas ren luft i våra hem på ett enkelt sätt, ja det kan vi\r\n        genom att använda luftens säkerhetsbälte = Luftrenare med bra filter!\r\n        Luften är vårt viktigaste livsmedel.. och vi andas 15 kg per dag,\r\n        dricker 3 kg och äter 1 kg. <br /> Så att veta hur allergier, astma samt\r\n        annan påverkan på oss människor minskar radikalt med att använda\r\n        Luftrenare förstår vi om vi tänker efter. Unna dig ren luft i hemmet.\r\n        <br /> För mer info, läs mer om ren luft på\r\n        <Link to={\"https://iaq.se/\"}> IAQ.se</Link>\r\n      </p>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CleanAir;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { read, listRelated } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Layout from \"./Layout\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst Product = (props) => {\r\n  const [product, setProduct] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const [filters, setFilter] = useState(false);\r\n\r\n  const loadSingleProduct = (productId) => {\r\n    read(productId).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProduct(data);\r\n        if (data.category.name === \"Filter\") {\r\n          setFilter(true);\r\n        }\r\n        // listRelated(data._id).then((data) => {\r\n        //   if (data.error) {\r\n        //     setError(error);\r\n        //   }\r\n        // });\r\n      }\r\n    });\r\n  };\r\n  const showTechInfo = () => (\r\n    <div style={{ display: filters ? \"none\" : \"\" }}>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Teknisk Beskrivning</h2>\r\n\r\n      <p className=\"text-center\">Färg: {product.color}</p>\r\n      <p className=\"text-center\">Produktdimension: {product.dimension}</p>\r\n      <p className=\"text-center\">Chassimaterial: {product.material}</p>\r\n      <p className=\"text-center\">Vikt: {product.weight}</p>\r\n      <p className=\"text-center\">Spänning: {product.voltage}</p>\r\n      <p className=\"text-center\">\r\n        Energiförbrukning: {product.powerConsumption}\r\n      </p>\r\n      <p className=\"text-center\">CADR: {product.cadr}</p>\r\n      <p className=\"text-center\">Applikationsområde: {product.area}</p>\r\n      <p className=\"text-center\">Ljud: {product.noice}</p>\r\n      <p className=\"text-center\">PM2.5​: {product.pm25}</p>\r\n      <p className=\"text-center\">Filter: {product.filter}</p>\r\n      <p className=\"text-center\">Sensor: {product.sensor}</p>\r\n      <p className=\"text-center\">Driftstyrning: {product.controllers}</p>\r\n      <p className=\"text-center\">Certifiering: {product.certification}</p>\r\n    </div>\r\n  );\r\n\r\n  useEffect(() => {\r\n    const productId = props.match.params.productId;\r\n    loadSingleProduct(productId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={product && product.name}\r\n      description={\r\n        product && product.description && product.description.substring(0, 100)\r\n      }\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          {product && product.description && (\r\n            <Card product={product} showViewProductButton={false} />\r\n          )}\r\n        </div>\r\n        {/* <div className=\"col-4\">\r\n          <h4>Tilhörande Produkter</h4>\r\n          {relatedProduct.map((p, i) => (\r\n            <div key={i} className=\"mb-3\">\r\n              <Card product={p} />\r\n            </div>\r\n          ))}\r\n        </div> */}\r\n      </div>\r\n      <div className=\"divider\"></div>\r\n      <h2 className=\"mt-4 mb-4 text-center\">Produktbeskrivning</h2>\r\n\r\n      <p className=\"text-center\">{product.description}</p>\r\n      <div className=\"divider\"></div>\r\n      {showTechInfo()}\r\n      <Footer></Footer>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div>\r\n      {/* <Menu /> */}\r\n      <h1 className=\"mt-4 mb-4 text-center\">Sidan kunde tyvärr inte hittas</h1>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\nexport default NotFound;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Layout from \"./Layout\";\r\nimport { getCart } from \"./cartHelpers\";\r\nimport Checkout from \"./Checkout\";\r\nimport Card from \"./Card\";\r\n\r\nconst Cart = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const [run, setRun] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setItems(getCart());\r\n  }, [run]);\r\n\r\n  const getTotalAmount = () => {\r\n    return items.reduce((currentValue, nextValue) => {\r\n      return parseInt(currentValue + +nextValue.count);\r\n    }, 0);\r\n  };\r\n\r\n  const showItems = (items) => {\r\n    return (\r\n      <div>\r\n        <h2>Din kundvagn har totalt {`${getTotalAmount()}`} produkter</h2>\r\n        <hr />\r\n        {items.map((product, i) => (\r\n          <Card\r\n            key={i}\r\n            product={product}\r\n            showAddToCartButton={false}\r\n            cartUpdate={true}\r\n            showRemoveProductButton={true}\r\n            setRun={setRun}\r\n            run={run}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noItemsMessage = () => (\r\n    <h2>\r\n      Din kundvagn är tom! <br /> <Link to=\"/products\">Fortsätt handla</Link>\r\n    </h2>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Shopping Cart\"\r\n      description=\"Hantera kundvagn eller fortsätt att shoppa!\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n        </div>\r\n        {/* <div className=\"col-6\"> */}\r\n        <h2 className=\"mb-4\">Summering av Kundvagn {}</h2>\r\n        <hr />\r\n        {/* <Checkout products={items} setRun={setRun} run={run} /> */}\r\n      </div>\r\n      {/* </div> */}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\nconst Orders = () => {\r\n  moment.locale(\"se\");\r\n  const [orders, setOrders] = useState([]);\r\n  const [statusValues, setStatusValues] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOrders = () => {\r\n    listOrders(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setOrders(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadStatusValues = () => {\r\n    getStatusValues(user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setStatusValues(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n    loadStatusValues();\r\n  }, []);\r\n\r\n  const showOrdersLength = () => {\r\n    if (orders.length > 0) {\r\n      return (\r\n        <h1 className=\"text-danger display-2\">\r\n          Totalt antal ordrar: {orders.length}\r\n        </h1>\r\n      );\r\n    } else {\r\n      return <h1 className=\"text-danger\">Inga ordrar</h1>;\r\n    }\r\n  };\r\n\r\n  const showInput = (key, value) => (\r\n    <div className=\"input-group mb-2 mr-sm-2\">\r\n      <div className=\"input-group-prepend\">\r\n        <div className=\"input-group-text\">{key}</div>\r\n      </div>\r\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n    </div>\r\n  );\r\n\r\n  const handleStatusChange = (e, orderId) => {\r\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\r\n      if (data.error) {\r\n        console.log(\"Status update failed\");\r\n      } else {\r\n        loadOrders();\r\n      }\r\n    });\r\n  };\r\n\r\n  const showStatus = (o) => (\r\n    <div className=\"form-group\">\r\n      <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n      <select\r\n        className=\"form-control\"\r\n        onChange={(e) => handleStatusChange(e, o._id)}\r\n      >\r\n        <option>Uppdatera Status</option>\r\n        {statusValues.map((status, index) => (\r\n          <option key={index} value={status}>\r\n            {status}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Orders\"\r\n      description={`Hantera ordrar`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showOrdersLength()}\r\n\r\n          {orders.map((o, oIndex) => {\r\n            return (\r\n              <div\r\n                className=\"mt-5\"\r\n                key={oIndex}\r\n                style={{ borderBottom: \"5px solid indigo\" }}\r\n              >\r\n                <h2 className=\"mb-5\">\r\n                  <span className=\"bg-primary\">Order ID: {o._id}</span>\r\n                </h2>\r\n\r\n                <ul className=\"list-group mb-2\">\r\n                  <li className=\"list-group-item\">{showStatus(o)}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Transaktions ID: {o.transaction_id}\r\n                  </li>\r\n                  <li className=\"list-group-item\">Antal: ${o.amount}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Beställd av: {o.user.name}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Beställningsdatum on: {moment(o.createdAt).fromNow()}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Leveransaddress: {o.address}\r\n                  </li>\r\n                </ul>\r\n\r\n                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                  Totalt antal produkter: {o.products.length}\r\n                </h3>\r\n\r\n                {o.products.map((p, pIndex) => (\r\n                  <div\r\n                    className=\"mb-4\"\r\n                    key={pIndex}\r\n                    style={{\r\n                      padding: \"20px\",\r\n                      border: \"1px solid indigo\",\r\n                    }}\r\n                  >\r\n                    {showInput(\"Product name\", p.name)}\r\n                    {showInput(\"Product price\", p.price)}\r\n                    {showInput(\"Product total\", p.count)}\r\n                    {showInput(\"Product Id\", p._id)}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\nimport { Trash } from \"react-bootstrap-icons\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const destroy = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        loadProducts();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Manage Products\"\r\n      description=\"Perform CRUD on products\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center\">Totalt {products.length} produkter</h2>\r\n          <hr />\r\n          <ul className=\"list-group\">\r\n            {products.map((p, i) => (\r\n              <li\r\n                key={i}\r\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n              >\r\n                <strong>{p.name}</strong>\r\n                <Link to={`/admin/product/update/${p._id}`}>\r\n                  <span className=\"badge bg-warning bg-pill\">Uppdatera</span>\r\n                </Link>\r\n                <Trash\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => destroy(p._id)}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <br />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    color: \"\",\r\n    dimension: \"\",\r\n    material: \"\",\r\n    weight: \"\",\r\n    voltage:\"\",\r\n    powerConsumption:\"\",\r\n    cadr:\"\",\r\n    area:\"\",\r\n    noice:\"\",\r\n    pm25:\"\",\r\n    filter:\"\",\r\n    sensor:\"\",\r\n    controllers:\"\",\r\n    certification:\"\",\r\n    loading: false,\r\n    error: false,\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n    color,\r\n    dimension,\r\n    material,\r\n    weight,\r\n    voltage,\r\n    powerConsumption,\r\n    cadr,\r\n    area,\r\n    noice,\r\n    pm25,\r\n    filter,\r\n    sensor,\r\n    controllers,\r\n    certification\r\n  } = values;\r\n\r\n  const init = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          quantity: data.quantity,\r\n          color: data.color,\r\n          dimension: data.dimension,\r\n          material: data.material,\r\n          weight: data.weight,\r\n          voltage: data.voltage,\r\n          powerConsumption: data.powerConsumption,\r\n          cadr: data.cadr,\r\n          area: data.area,\r\n          noice: data.noice,\r\n          pm25: data.pm25,\r\n          filter: data.filter,\r\n          sensor: data.sensor,\r\n          controllers: data.controllers,\r\n          certification: data.certification,\r\n          formData: new FormData(),\r\n        });\r\n        // load categories\r\n        initCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  // load categories and set form data\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            photo: \"\",\r\n            price: \"\",\r\n            quantity: \"\",\r\n            loading: false,\r\n            error: false,\r\n            redirectToProfile: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Lägg till bild</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Beskrivning</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Pris</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Kategori</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Vänligen välj en Kategori</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n    \r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Antal</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Färg</label>\r\n        <input\r\n          onChange={handleChange(\"color\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={color}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Produktdimension</label>\r\n        <input\r\n          onChange={handleChange(\"dimension\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={dimension}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Chassimaterial</label>\r\n        <input\r\n          onChange={handleChange(\"material\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={material}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Vikt</label>\r\n        <input\r\n          onChange={handleChange(\"weight\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={weight}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Spänning</label>\r\n        <input\r\n          onChange={handleChange(\"voltage\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={voltage}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Energiförbrukning</label>\r\n        <input\r\n          onChange={handleChange(\"powerConsumption\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={powerConsumption}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">CADR</label>\r\n        <input\r\n          onChange={handleChange(\"cadr\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={cadr}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Applikationsområde</label>\r\n        <input\r\n          onChange={handleChange(\"area\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={area}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Ljud</label>\r\n        <input\r\n          onChange={handleChange(\"noice\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={noice}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">PM2.5</label>\r\n        <input\r\n          onChange={handleChange(\"pm25\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={pm25}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Tillhörande filter</label>\r\n        <input\r\n          onChange={handleChange(\"filter\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={filter}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Sensor</label>\r\n        <input\r\n          onChange={handleChange(\"sensor\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={sensor}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Driftstyrning</label>\r\n        <input\r\n          onChange={handleChange(\"controllers\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={controllers}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Certifiering</label>\r\n        <input\r\n          onChange={handleChange(\"certification\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={certification}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Uppdatera Produkt</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} är uppdaterad!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Laddar...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout title=\"Uppdatera Produkt\" description={`Uppdatera Produkt`}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getCategory, updateCategory } from \"./apiAdmin\";\r\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\r\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\r\nconst UpdateCategory = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    error: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  // destructure user and token from localStorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const { name, error, redirectToProfile } = values;\r\n\r\n  const init = (categoryId) => {\r\n    getCategory(categoryId, token).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.categoryId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const submitCategoryForm = (e) => {\r\n    e.preventDefault();\r\n    // update with ? you should send category name otherwise what to update?\r\n    const category = {\r\n      name: name,\r\n    };\r\n    updateCategory(match.params.categoryId, user._id, token, category).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: data.name,\r\n            error: false,\r\n            redirectToProfile: true,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const updateCategoryForm = () => (\r\n    <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\r\n      <form className=\"mb-5\" onSubmit={submitCategoryForm}>\r\n        <span className=\"login100-form-title p-b-32 m-b-7\">\r\n          Formulär för att uppdatera kategorier\r\n        </span>\r\n        <span className=\"txt1 p-b-11\">Kategori</span>\r\n        <br />\r\n        <br />\r\n        <div className=\"wrap-input100 validate-input m-b-36\">\r\n          <input\r\n            onChange={handleChange(\"name\")}\r\n            value={name}\r\n            className=\"input100\"\r\n            type=\"text\"\r\n            required\r\n            name=\"name\"\r\n          />\r\n        </div>\r\n        <div className=\"w-size25\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\"\r\n          >\r\n            Spara Ändringar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className={\"alert alert-danger\"}\r\n      role=\"alert\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        className=\"close\"\r\n        data-dismiss=\"alert\"\r\n        aria-label=\"Close\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to=\"/admin/categories\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  const goBackBTN = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link to=\"/admin/categories\" className=\"text-info\">\r\n          Tillbaka till admin\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title={`Hi ${user.name}`}\r\n      description={`This is Update Product Action Page`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\r\n          {showError()}\r\n          {updateCategoryForm()}\r\n          {goBackBTN()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","// import React, { useState, useEffect } from \"react\";\r\n// import { list } from \"./apiCore\";\r\n// import { getCategories } from \"./apiCore\";\r\n// import Card from \"./Card\";\r\n// import Footer from \"./Footer\";\r\n// import Menu from \"./Menu\";\r\n// import SearchBar from \"./SearchBar\";\r\n\r\n// const Search = (props) => {\r\n//   // const [data, setData] = useState({\r\n//   //   search: \"\",\r\n//   //   results: [],\r\n//   //   searched: false,\r\n//   // });\r\n\r\n//   // const { search, results, searched } = data;\r\n\r\n//   // const searchData = () => {\r\n//   //   console.log(search);\r\n//   //   if (search) {\r\n//   //     list({ search: search || undefined }).then((response) => {\r\n//   //       if (response.error) {\r\n//   //         console.log(response.error);\r\n//   //       } else {\r\n//   //         setData({ ...data, results: response, searched: true });\r\n//   //       }\r\n//   //     });\r\n//   //   }\r\n//   // };\r\n\r\n//   // //   const searchSubmit = (e) => {\r\n//   // //     e.preventDefault();\r\n//   // //     searchData();\r\n//   // //   };\r\n//   // //   const handleChange = (name) => (event) => {\r\n//   // //     setData({ ...data, [name]: event.target.value, searched: false });\r\n//   // //   };\r\n\r\n//   const searchMessage = (searched, results) => {\r\n//     if (searched && results.length > 1) {\r\n//       return `Hittade ${results.length} produkter`;\r\n//     }\r\n//     if (searched && results.length === 1) {\r\n//       return `Hittade ${results.length} produkt`;\r\n//     }\r\n//     if (searched && results.length < 1) {\r\n//       return `Hittade inga produkter`;\r\n//     }\r\n//   };\r\n\r\n//   const searchedProducts = (results = []) => {\r\n//     return (\r\n//       <div>\r\n//         <h2 className=\"mt-4 mb-4\"> {searchMessage(searched, results)}</h2>\r\n//         <div className=\"row\">\r\n//           {results.map((product, i) => (\r\n//             <Card key={i} product={product} />\r\n//           ))}\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n//   //   const searchForm = () => (\r\n//   //     <form onSubmit={searchSubmit}>\r\n//   //       <span className=\"input-group-text\">\r\n//   //         <div className=\"input-group input-group-lg\">\r\n//   //           {/* <div className=\"input-group-prepend\">\r\n//   //             <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\r\n//   //               <option value=\"All\"> Välj en kategori</option>\r\n//   //               {categories.map((c, i) => (\r\n//   //                 <option key={i} value={c._id}>\r\n//   //                   {c.name}\r\n//   //                 </option>\r\n//   //               ))}\r\n//   //             </select>\r\n//   //           </div> */}\r\n//   //           <input\r\n//   //             type=\"search\"\r\n//   //             className=\"form-control\"\r\n//   //             placeholder=\"Sök efter produkter eller kategorier\"\r\n//   //             onChange={handleChange(\"search\")}\r\n//   //           />\r\n//   //         </div>\r\n//   //         <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\r\n//   //           <button className=\"input-group-text\">Sök</button>\r\n//   //         </div>\r\n//   //       </span>\r\n//   //     </form>\r\n//   //   );\r\n\r\n//   return (\r\n//     <div>\r\n//       <Menu></Menu>\r\n//       <div className=\"row\">\r\n//         <SearchBar input={search} onChange={setData()}></SearchBar>\r\n//         <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\r\n//       </div>\r\n//       <Footer></Footer>\r\n//     </div>\r\n//   );\r\n// };\r\n// export default Search;\r\nimport React from \"react\";\r\nimport { list } from \"./apiCore\";\r\n\r\nexport default class SearchResultsPage extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    searchText: \"\",\r\n    searchResults: []\r\n  };\r\n\r\n  handleSearch = () => {\r\n    let searchText = this.props.location.state.searchText;\r\n    let results = list.filter(item => item.name.includes(searchText));\r\n    this.setState({\r\n      isLoading: false,\r\n      searchText: searchText,\r\n      searchResults: results\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.handleSearch();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let prevSearch = prevProps.location.state.searchText;\r\n    let newSearch = this.props.location.state.searchText;\r\n    if (prevSearch !== newSearch) {\r\n      this.handleSearch();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let toRender = this.state.isLoading ? (\r\n      <h1>Loading...</h1>\r\n    ) : (\r\n      <>\r\n        <h1>Your Search Results</h1>\r\n        <ul>\r\n          <li>Search: \"{this.state.searchText}\"</li>\r\n          <li>Count: {this.state.searchResults.length}</li>\r\n        </ul>\r\n        {this.state.searchResults.length > 0 ? (\r\n          <pre>\r\n            <small>{JSON.stringify(this.state.searchResults, null, 2)}</small>\r\n          </pre>\r\n        ) : (\r\n          <p>NO RESULTS FOUND</p>\r\n        )}\r\n      </>\r\n    );\r\n\r\n    return <div style={{ margin: \"20px 0px 0px 20px\" }}>{toRender}</div>;\r\n  }\r\n}","import React, { useState } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Signin from \"./user/Signin\";\r\nimport Home from \"./core/Home\";\r\nimport { list } from \"./core/apiCore\";\r\nimport AdminRoute from \"./auth/AdminRoute\";\r\nimport AdminDashboard from \"./user/AdminDashboard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport Shop from \"./core/Shop\";\r\nimport About from \"./core/About\";\r\nimport CleanAir from \"./core/ClearAir\";\r\nimport Product from \"./core/Product\";\r\nimport NotFound from \"./core/NotFound\";\r\nimport CartComp from \"./core/Cart\";\r\nimport Orders from \"./admin/Orders\";\r\nimport Card from \"./core/Card\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Search from \"./core/Search\";\r\nimport { Cart } from \"react-bootstrap-icons\";\r\nimport { getTotalAmountCart } from \"./core/cartHelpers\";\r\nimport { Navbar, Nav, Form, FormControl, Button } from \"react-bootstrap\";\r\n\r\nconst Routes = () => {\r\n  // const handleRoute = route => () => {\r\n  //   this.props.history.push({ pathname: route });\r\n  // };\r\n  const [data, setData] = useState({\r\n    search: \"\",\r\n    results: [],\r\n    searched: false,\r\n  });\r\n  const { search, results, searched } = data;\r\n  const searchData = () => {\r\n    // console.log(search, category);\r\n    if (search) {\r\n      list({ search: search }).then((response) => {\r\n        if (response.error) {\r\n          console.log(response.error);\r\n        } else {\r\n          setData({ ...data, results: response, searched: true });\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 0) {\r\n      return `Hittade ${results.length} produkter`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `Hittade inga produkter`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div>\r\n        <h2 className=\"mt-4 mb-4\">{searchMessage(searched, results)}</h2>\r\n        <div className=\"row\">\r\n          {results.map((product, i) => (\r\n            <div key={i} className=\"col-4 mb-3\">\r\n              <Card product={product} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // const handleSearchInput = (event) => {\r\n  //   setSearch(true);\r\n  //   setSearchText({\r\n  //     searchText: event.target.value,\r\n  //   });\r\n  // };\r\n\r\n  // const handleSearchSubmit = () => {\r\n  //   if (search) {\r\n  //     this.props.history.push({\r\n  //       pathname: \"/results\",\r\n  //       state: {\r\n  //         searchText: searchText,\r\n  //       },\r\n  //     });\r\n  //   } else {\r\n  //     alert(\"Please enter some search text!\");\r\n  //   }\r\n  // };\r\n  return (\r\n    <BrowserRouter>\r\n      <div>\r\n        <Navbar className=\"navBkg\" expand=\"lg\">\r\n          <Navbar.Brand className=\"mx-auto\" href=\"/\">\r\n            <img\r\n              alt=\"logo\"\r\n              className=\"img\"\r\n              src={process.env.PUBLIC_URL + \"/assets/logo.png\"}\r\n            />\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"navbarScroll\" />\r\n          <Navbar.Collapse id=\"navbarScroll\">\r\n            <Form onSubmit={searchSubmit} className=\"d-flex mx-auto\">\r\n              <FormControl\r\n                type=\"search\"\r\n                placeholder=\"Sök\"\r\n                className=\"mr-2 ml-4 rounded-pill\"\r\n                aria-label=\"Sök\"\r\n                onChange={handleChange(\"search\")}\r\n              />\r\n              <Button type=\"submit\" variant=\"success rounded-pill\">\r\n                Sök\r\n              </Button>\r\n            </Form>\r\n            <Nav\r\n              className=\"ml-auto my-2 my-lg-0\"\r\n              style={{ maxHeight: \"100px\" }}\r\n              navbarScroll\r\n            >\r\n              <Nav.Link href=\"/about\">Om Oss</Nav.Link>\r\n              <Nav.Link href=\"/cleanAir\">Ren Luft</Nav.Link>\r\n              <Nav.Link href=\"/products\">Produkter</Nav.Link>\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n          <Nav.Link href=\"/cart\">\r\n            <Cart style={{ fontSize: \"20px\" }}></Cart>\r\n            <span style={{ color: \"#15953E\" }}> {getTotalAmountCart()} </span>\r\n          </Nav.Link>\r\n        </Navbar>\r\n        <div className=\"divider\"></div>\r\n        {searchedProducts(results)}\r\n      </div>\r\n      <Switch>\r\n        <Route path=\"/about\" exact component={About} />\r\n        <Route path=\"/cleanAir\" exact component={CleanAir} />\r\n        <Route path=\"/products\" exact component={Shop} />\r\n        <Route path=\"/admin/signin\" exact component={Signin} />\r\n        {/* <Route path=\"/signup\" exact component={Signup} /> */}\r\n        <Route path=\"/product/:productId\" exact component={Product} />\r\n        <Route path=\"/cart\" exact component={CartComp} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <AdminRoute path=\"/create/category\" exact component={AddCategory} />\r\n        <AdminRoute path=\"/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n        {/* <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\r\n        <PrivateRoute path=\"/profile/:userId\" exact component={Profile} /> */}\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <Route path=\"/search\" exact component={Search} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"*\" component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}